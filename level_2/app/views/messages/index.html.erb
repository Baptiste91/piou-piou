<div class="container">
  <div data-controller="reveal">
    <h4 data-action="click->reveal#revealForm" class="btn btn-dark">Post a new message <i class="fa-solid fa-plus"></i></h4>
    <div class="d-none" data-reveal-target="form">
      <%= simple_form_for(@message) do |f| %>
        <%= f.input :content %>
        <%= f.input :tag_id,
            as: :radio_buttons,
            collection_wrapper_tag: 'div',
            collection_wrapper_class: 'category-wrapper',
            item_wrapper_class: 'category-item',
            input_html: {class: 'category-selector'},
            collection: @tags,
            value_method: :id %>
        <%= f.submit "Send", class: "btn btn-outline-dark" %>
      <% end %>
    </div>
  </div>

  <% @messages.each do |message| %>
    <div class="card-product">
      <div class="card-product-infos">
        <%= link_to message_path(message) do %>
        <h2><%= message.content %></h2>
        <% end %>
        <p><%= message.user.username %> - <%= message.created_at.strftime("Posted at %H:%M, %d/%m/%Y ") %> <span class="card-tag-<%= message.tag.name %>"><%= message.tag.name %></span></p>
      </div>
    </div>
  <% end %>
</div>
